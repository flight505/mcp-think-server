# Smithery configuration file
name: "@flight505/mcp-think-tank"
description: "An MCP server that provides reasoning and knowledge graph capabilities for AI assistants"
version: "2.1.0-beta.1"
displayName: "MCP Think Tank"
summary: "A knowledge graph-based reasoning tool with structured thinking and web research capabilities"
homepage: "https://github.com/flight505/mcp-think-tank"
repository: "https://github.com/flight505/mcp-think-tank"
keywords:
  - reasoning
  - knowledge-graph
  - structured-thinking
  - memory
  - task-management
  - exa
  - web-research
  - think

# Build configuration
build:
  dockerfile: Dockerfile
  dockerBuildPath: .

# Server configuration for Smithery compatibility 
# Using streamable-http instead of stdio for better compatibility
startCommand:
  type: streamable-http
  configSchema:
    type: object
    properties:
      memoryPath:
        type: string
        description: "Path to memory.jsonl file for persistent knowledge graph storage"
        default: "/tmp/memory.jsonl"
      exaApiKey:
        type: string
        description: "API key for Exa web search functionality"
      toolLimit:
        type: number
        description: "Maximum tool calls per session"
        default: 25
    required: []
  commandFunction: |-
    config => ({
      command: 'node',
      args: ['dist/server.js'],
      env: {
        ...config,
        NODE_ENV: 'production',
        MCP_TRANSPORT: 'streamable-http',
        MCP_HOST: '0.0.0.0',
        MCP_PORT: '8000',
        MCP_PATH: '/mcp',
        MEMORY_PATH: config.memoryPath || '/tmp/memory.jsonl',
        TOOL_LIMIT: String(config.toolLimit || 25),
        MCP_DEBUG: 'true',
        AUTO_LINK: 'true',
        SMITHERY_DEPLOYMENT: 'true'
      }
    })